# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã Hotel Content Automation

–ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

## üìê –û–±—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                         MAIN.PY                                  ‚îÇ
‚îÇ                   (Orchestration Layer)                          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
         ‚îÇ                                                         ‚îÇ
         ‚ñº                                                         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Google Drive   ‚îÇ                                    ‚îÇ    OpenAI        ‚îÇ
‚îÇ    Handler      ‚îÇ                                    ‚îÇ    Handler       ‚îÇ
‚îÇ                 ‚îÇ                                    ‚îÇ                  ‚îÇ
‚îÇ - List files    ‚îÇ                                    ‚îÇ - Generate text  ‚îÇ
‚îÇ - Download      ‚îÇ                                    ‚îÇ - Create caption ‚îÇ
‚îÇ - Upload        ‚îÇ                                    ‚îÇ                  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ                                                      ‚îÇ
         ‚îÇ                                                      ‚îÇ
         ‚ñº                                                      ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Google Docs    ‚îÇ                                    ‚îÇ   Text Designer  ‚îÇ
‚îÇ    Handler      ‚îÇ                                    ‚îÇ                  ‚îÇ
‚îÇ                 ‚îÇ                                    ‚îÇ - Style config   ‚îÇ
‚îÇ - Read docs     ‚îÇ                                    ‚îÇ - Positioning    ‚îÇ
‚îÇ - Extract text  ‚îÇ                                    ‚îÇ - Color scheme   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                                ‚îÇ
                                                                ‚îÇ
                                                                ‚ñº
                                                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                                       ‚îÇ  Video Editor    ‚îÇ
                                                       ‚îÇ                  ‚îÇ
                                                       ‚îÇ - Cut video      ‚îÇ
                                                       ‚îÇ - Add text       ‚îÇ
                                                       ‚îÇ - Transitions    ‚îÇ
                                                       ‚îÇ - Export         ‚îÇ
                                                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                                                ‚îÇ
                                                                ‚îÇ
                                                                ‚ñº
                                                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                                       ‚îÇ  Telegram Bot    ‚îÇ
                                                       ‚îÇ                  ‚îÇ
                                                       ‚îÇ - Send video     ‚îÇ
                                                       ‚îÇ - Approval UI    ‚îÇ
                                                       ‚îÇ - Callbacks      ‚îÇ
                                                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üß© –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### 1. main.py - –ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ workflow
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏

**–û—Å–Ω–æ–≤–Ω–æ–π workflow:**
```python
1. –ó–∞–≥—Ä—É–∑–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (.env)
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è handlers
3. –í—ã–±–æ—Ä —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (70% –≤–∏–¥–µ–æ / 30% –∫–∞—Ä—É—Å–µ–ª—å)
4. –ü–æ–ª—É—á–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏–∑ Google Drive
5. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ OpenAI
6. –ú–æ–Ω—Ç–∞–∂ –≤–∏–¥–µ–æ
7. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
8. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```

**–ö–ª—é—á–µ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `validate_environment()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- `select_content_type()` - –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- `process_content()` - –æ—Å–Ω–æ–≤–Ω–æ–π workflow
- `main()` - —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞

### 2. src/logger.py - –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å–∏—Å—Ç–µ–º—ã.

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ó–∞–ø–∏—Å—å –≤ —Ñ–∞–π–ª –∏ –∫–æ–Ω—Å–æ–ª—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ª–æ–≥-—Ñ–∞–π–ª–æ–≤ —Å timestamp
- –†–∞–∑–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (DEBUG, INFO, WARNING, ERROR)
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

**API:**
```python
from src.logger import setup_logger, get_logger

# –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π logger
logger = setup_logger(name="my_module", log_file="custom.log")

# –ü–æ–ª—É—á–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π logger
logger = get_logger("my_module")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
logger.info("Information message")
logger.warning("Warning message")
logger.error("Error message")
logger.debug("Debug message")
```

### 3. src/google_drive.py - Google Drive –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –≤ Google Drive (—á—Ç–µ–Ω–∏–µ, –∑–∞–≥—Ä—É–∑–∫–∞).

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
```python
GoogleDriveHandler(service_account_file, folder_id)
‚îú‚îÄ‚îÄ list_files_in_folder(folder_name, mime_type)
‚îú‚îÄ‚îÄ download_file(file_id, destination_path)
‚îú‚îÄ‚îÄ get_video_files(folder_name="RAW_VIDEO")
‚îú‚îÄ‚îÄ get_photo_files(folder_name="RAW_PHOTO")
‚îú‚îÄ‚îÄ get_text_files(folder_name="TEXTS")
‚îî‚îÄ‚îÄ get_reference_posts(folder_name="POSTS_REFERENCE")
```

**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**
- Service Account —á–µ—Ä–µ–∑ JSON –∫–ª—é—á
- Scope: `drive.readonly`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Google Drive API v3

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤:**
- –ü–æ MIME —Ç–∏–ø—É (video/*, image/*)
- –ü–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (.mp4, .mov, .jpg, .png)
- –ü–æ –∏–º–µ–Ω–∏ –ø–∞–ø–∫–∏

### 4. src/google_docs.py - Google Docs –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–ß—Ç–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –∏–∑ Google Docs –∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
```python
GoogleDocsHandler(service_account_file)
‚îú‚îÄ‚îÄ read_document(document_id)  # –ß–∏—Ç–∞–µ—Ç Google Doc
‚îî‚îÄ‚îÄ read_text_file(file_path)   # –ß–∏—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ Google Docs
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–ø–∞—Ä–∞–≥—Ä–∞—Ñ—ã)
- –ß—Ç–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- –û–±—Ä–∞–±–æ—Ç–∫–∞ UTF-8 –∫–æ–¥–∏—Ä–æ–≤–∫–∏

### 5. src/openai_handler.py - OpenAI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–æ–≤ —Å –ø–æ–º–æ—â—å—é GPT-4.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
```python
OpenAIHandler(api_key)
‚îú‚îÄ‚îÄ generate_caption(hotel_description, reference_posts, content_type)
‚îî‚îÄ‚îÄ generate_short_text_overlay(hotel_description, reference_posts)
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏:**

**–î–ª—è –ø–æ–¥–ø–∏—Å–µ–π Instagram:**
- Model: GPT-4
- Max tokens: 200
- Temperature: 0.8
- –î–ª–∏–Ω–∞: 15-30 —Å–ª–æ–≤
- –°—Ç–∏–ª—å: –ª–µ–≥–∫–∏–π, –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–π, —Å —ç–º–æ–¥–∑–∏

**–î–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –Ω–∞–ª–æ–∂–µ–Ω–∏–π:**
- Model: GPT-4
- Max tokens: 50
- Temperature: 0.9
- –î–ª–∏–Ω–∞: 3-7 —Å–ª–æ–≤
- –°—Ç–∏–ª—å: –µ–º–∫–∏–π, –±–µ–∑ —ç–º–æ–¥–∑–∏

**–ü—Ä–æ–º–ø—Ç—ã:**
–ü—Ä–æ–º–ø—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞:
- –ê–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ–ø–∏—Å–∞–Ω–∏—è –æ—Ç–µ–ª—è
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—é –≤ –µ–¥–∏–Ω–æ–º —Å—Ç–∏–ª–µ
- –ò–∑–±–µ–≥–∞–Ω–∏–µ –ø—Ä—è–º–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

### 6. src/text_designer.py - –î–∏–∑–∞–π–Ω —Ç–µ–∫—Å—Ç–∞

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –≤–∏–¥–µ–æ.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
```python
TextDesigner(style_guide_path)
‚îú‚îÄ‚îÄ get_random_color()
‚îú‚îÄ‚îÄ get_random_position()
‚îú‚îÄ‚îÄ get_font_size(size_name)
‚îú‚îÄ‚îÄ calculate_position(video_width, video_height, text_width, text_height, position)
‚îú‚îÄ‚îÄ create_text_clip_config(text, video_width, video_height, duration)
‚îî‚îÄ‚îÄ wrap_text(text, max_width, font_size)
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å—Ç–∏–ª—è:**
```json
{
  "text_colors": ["white", "#FFE5B4", "#FFB6C1", "#ADD8E6"],
  "text_positions": ["bottom", "center", "top-left", "top-right", ...],
  "font_sizes": {"small": 40, "medium": 60, "large": 80},
  "transitions": ["fade", "crossfade"]
}
```

**–ü–æ–∑–∏—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞:**
- bottom - –Ω–∏–∑ –ø–æ —Ü–µ–Ω—Ç—Ä—É
- center - —Ü–µ–Ω—Ç—Ä —ç–∫—Ä–∞–Ω–∞
- top - –≤–µ—Ä—Ö –ø–æ —Ü–µ–Ω—Ç—Ä—É
- top-left, top-right - –≤–µ—Ä—Ö–Ω–∏–µ —É–≥–ª—ã
- bottom-left, bottom-right - –Ω–∏–∂–Ω–∏–µ —É–≥–ª—ã

**–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞:**
- –ë–µ–ª—ã–π (white) - –æ—Å–Ω–æ–≤–Ω–æ–π
- –ü–∞—Å—Ç–µ–ª—å–Ω—ã–π –∂–µ–ª—Ç—ã–π (#FFE5B4)
- –ü–∞—Å—Ç–µ–ª—å–Ω—ã–π —Ä–æ–∑–æ–≤—ã–π (#FFB6C1)
- –ü–∞—Å—Ç–µ–ª—å–Ω—ã–π –≥–æ–ª—É–±–æ–π (#ADD8E6)

### 7. src/video_editor.py - –ú–æ–Ω—Ç–∞–∂ –≤–∏–¥–µ–æ

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ —Å –ø–æ–º–æ—â—å—é MoviePy.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
```python
VideoEditor(text_designer)
‚îú‚îÄ‚îÄ create_video_with_text(video_path, text, output_path, target_duration, max_duration)
‚îú‚îÄ‚îÄ create_carousel_video(image_paths, text, output_path, duration_per_image, total_duration)
‚îî‚îÄ‚îÄ get_video_duration(video_path)
```

**–î–ª—è –≤–∏–¥–µ–æ:**
1. –ó–∞–≥—Ä—É–∑–∫–∞ –≤–∏–¥–µ–æ –∏–∑ —Ñ–∞–π–ª–∞
2. –û–±—Ä–µ–∑–∫–∞ –¥–æ –Ω—É–∂–Ω–æ–π –¥–ª–∏–Ω—ã (10-30 —Å–µ–∫)
3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ fade-in/fade-out (0.5 —Å–µ–∫)
4. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –∫–ª–∏–ø–∞
5. –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
6. –ù–∞–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –≤–∏–¥–µ–æ
7. –≠–∫—Å–ø–æ—Ä—Ç (H.264, AAC)

**–î–ª—è –∫–∞—Ä—É—Å–µ–ª–µ–π:**
1. –ó–∞–≥—Ä—É–∑–∫–∞ 3-5 —Ñ–æ—Ç–æ
2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–ø–∞ –∏–∑ –∫–∞–∂–¥–æ–≥–æ —Ñ–æ—Ç–æ (3 —Å–µ–∫)
3. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ (fade)
4. –°–∫–ª–µ–π–∫–∞ –≤ –µ–¥–∏–Ω–æ–µ –≤–∏–¥–µ–æ
5. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ (1080x1920 –¥–ª—è Reels)
6. –ù–∞–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
7. –≠–∫—Å–ø–æ—Ä—Ç

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —ç–∫—Å–ø–æ—Ä—Ç–∞:**
```python
codec='libx264'        # H.264 –∫–æ–¥–µ–∫
audio_codec='aac'      # AAC –∞—É–¥–∏–æ
fps=24-30              # –ß–∞—Å—Ç–æ—Ç–∞ –∫–∞–¥—Ä–æ–≤
preset='medium'        # –ë–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç—å/–∫–∞—á–µ—Å—Ç–≤–æ
threads=4              # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ CPU
```

### 8. src/telegram_bot.py - Telegram –±–æ—Ç

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
–û—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ –≤ Telegram –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è.

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
```python
TelegramBot(bot_token, user_id)
‚îú‚îÄ‚îÄ send_video_for_approval(video_path, caption, video_id)
‚îú‚îÄ‚îÄ handle_approval(update, context)
‚îú‚îÄ‚îÄ handle_rejection(update, context)
‚îú‚îÄ‚îÄ start_command(update, context)
‚îú‚îÄ‚îÄ run_webhook(webhook_url, port)
‚îî‚îÄ‚îÄ run_polling()

# Helper function
send_video_simple(bot_token, user_id, video_path, caption)
```

**–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–¥–æ–±—Ä–µ–Ω–∏—è:**
```
üìπ –ù–æ–≤–æ–µ –≤–∏–¥–µ–æ –¥–ª—è –æ–¥–æ–±—Ä–µ–Ω–∏—è

üìù –ü–æ–¥–ø–∏—Å—å –¥–ª—è Instagram:
[–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –ø–æ–¥–ø–∏—Å—å]

–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤–∏–¥–µ–æ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:

[‚úÖ –û–¥–æ–±—Ä–∏—Ç—å]  [‚ùå –û—Ç–∫–ª–æ–Ω–∏—Ç—å]
```

**Callback handlers:**
- `approve_*` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è
- `reject_*` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è

**–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã:**
1. **Polling** - –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏/—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
2. **Webhook** - –¥–ª—è production (—Ç—Ä–µ–±—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π URL)

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```
.env ‚Üí validate_environment() ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ handlers
```

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
```
Google Drive ‚Üí list_files() ‚Üí download_file() ‚Üí /tmp/
```

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞
```
Hotel Description + Reference Posts ‚Üí OpenAI GPT-4 ‚Üí Caption + Text Overlay
```

### 4. –ú–æ–Ω—Ç–∞–∂ –≤–∏–¥–µ–æ
```
Video/Photos + Text ‚Üí MoviePy ‚Üí MP4 file ‚Üí output/
```

### 5. –û—Ç–ø—Ä–∞–≤–∫–∞
```
MP4 file + Caption ‚Üí Telegram Bot ‚Üí User ‚Üí Approval/Rejection
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### Config (Environment Variables)
```python
{
    "OPENAI_API_KEY": str,
    "GOOGLE_DRIVE_FOLDER_ID": str,
    "GOOGLE_SERVICE_ACCOUNT_FILE": str,
    "TELEGRAM_BOT_TOKEN": str,
    "TELEGRAM_USER_ID": int,
    "RAW_VIDEO_FOLDER": str,
    "RAW_PHOTO_FOLDER": str,
    "TEXTS_FOLDER": str,
    "POSTS_REFERENCE_FOLDER": str,
    "VIDEO_PERCENTAGE": int,
    "MAX_VIDEO_DURATION": float
}
```

### File Metadata (Google Drive)
```python
{
    "id": str,           # Google Drive file ID
    "name": str,         # Filename
    "mimeType": str,     # MIME type
    "size": int,         # File size in bytes
    "createdTime": str,  # ISO timestamp
    "modifiedTime": str  # ISO timestamp
}
```

### Text Clip Config
```python
{
    "text": str,
    "font_size": int,
    "color": str,
    "position": str,
    "duration": float,
    "video_width": int,
    "video_height": int,
    "stroke_color": str,
    "stroke_width": int,
    "method": str
}
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
- –í—Å–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ `.env` —Ñ–∞–π–ª–µ
- `.env` –≤ `.gitignore`
- Service Account JSON –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- Google Drive: read-only scope
- Google Docs: read-only scope
- Telegram: —Ç–æ–ª—å–∫–æ –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π User ID

### –í–∞–ª–∏–¥–∞—Ü–∏—è
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö environment variables
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π –∫ —Ñ–∞–π–ª–∞–º
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ (–≤–æ–∑–º–æ–∂–Ω–æ –≤ –±—É–¥—É—â–µ–º)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Ñ–µ—Ä–µ–Ω—Å–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
- –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å –≤ MoviePy (threads=4)
- Preset 'medium' –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ —Å–∫–æ—Ä–æ—Å—Ç—å/–∫–∞—á–µ—Å—Ç–≤–æ

### –£–∑–∫–∏–µ –º–µ—Å—Ç–∞
1. **OpenAI API** - ~3-5 —Å–µ–∫—É–Ω–¥ –Ω–∞ –∑–∞–ø—Ä–æ—Å
2. **–ú–æ–Ω—Ç–∞–∂ –≤–∏–¥–µ–æ** - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–ª–∏–Ω—ã –≤–∏–¥–µ–æ
3. **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤** - –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ —Å–µ—Ç–∏

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞—Ç—Ä–∞—Ç—ã (–ø—Ä–∏–º–µ—Ä–Ω–æ)
```
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:        1-2 —Å–µ–∫
–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤:      5-10 —Å–µ–∫
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞:     3-5 —Å–µ–∫
–ú–æ–Ω—Ç–∞–∂ –≤–∏–¥–µ–æ:         10-30 —Å–µ–∫
–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram:  2-5 —Å–µ–∫
-------------------------
–ò—Ç–æ–≥–æ:                21-52 —Å–µ–∫
```

## üìà –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É:
- Dropbox
- OneDrive
- Local file system
- Amazon S3

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
- Stories (–≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ –≤–∏–¥–µ–æ 9:16)
- Posts (–∫–≤–∞–¥—Ä–∞—Ç–Ω—ã–µ 1:1)
- IGTV (–≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ 16:9)

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
–ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ MoviePy:
- Zoom in/out
- Pan & scan
- Color grading
- Filters
- Animated text

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏
–ú–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å:
- Instagram API (–∞–≤—Ç–æ–ø–æ—Å—Ç–∏–Ω–≥)
- Facebook API
- TikTok API
- YouTube API

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–±–∞–≤–∏—Ç—å)
```
tests/
‚îú‚îÄ‚îÄ test_google_drive.py
‚îú‚îÄ‚îÄ test_openai_handler.py
‚îú‚îÄ‚îÄ test_video_editor.py
‚îî‚îÄ‚îÄ test_telegram_bot.py
```

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- End-to-end workflow test
- API connectivity tests
- File processing tests

### –ú–∞–Ω—É–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –ó–∞–ø—É—Å–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ –≤–∏–¥–µ–æ
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –ø–æ–∑–∏—Ü–∏–π —Ç–µ–∫—Å—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ü–≤–µ—Ç–æ–≤
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—Ä—É—Å–µ–ª–∏ –∏–∑ —Ñ–æ—Ç–æ
5. –ü—Ä–æ–≤–µ—Ä–∫–∞ Telegram –æ—Ç–ø—Ä–∞–≤–∫–∏

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤
```
TIMESTAMP - LOGGER_NAME - LEVEL - MESSAGE
2024-02-17 10:30:45 - hotel_automation - INFO - Starting workflow
```

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- **DEBUG**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- **INFO**: –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ö–æ–¥–µ —Ä–∞–±–æ—Ç—ã
- **WARNING**: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ)
- **ERROR**: –û—à–∏–±–∫–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ª–æ–≥–æ–≤
```
logs/
‚îî‚îÄ‚îÄ process_20240217_103045.log
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

### –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
- Semantic Versioning (MAJOR.MINOR.PATCH)
- –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: 1.0.0

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–†–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å:
```bash
pip install --upgrade -r requirements.txt
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –ª–æ–≥–∏ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –±–∞–ª–∞–Ω—Å OpenAI
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
- –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –æ—à–∏–±–∫–∏ API

## üéì –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ —Å —É—á–µ—Ç–æ–º:
- **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º
- **–†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç–∏** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç–∏** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –Ω–∞ –≤—Å–µ—Ö —É—Ä–æ–≤–Ω—è—Ö
- **–ü—Ä–æ—Å—Ç–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - –∑–∞–ø—É—Å–∫ –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π

–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º—É –ø–æ–¥ –Ω–æ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –µ—ë –ø–æ –º–µ—Ä–µ —Ä–æ—Å—Ç–∞ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–µ–π.
